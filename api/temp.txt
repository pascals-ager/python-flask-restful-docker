import config
def create_app(config=None, app_name=None):
    """Create a Flask app."""

    if app_name is None:
        app_name = "vimcar"

    app = Flask(app_name)
    configure_app(app, config)
    configure_blueprints(app)
    configure_extensions(app)
    configure_cli(app)

    return app

def configure_app(app, config_object):
    """Different ways of configurations."""
    app.config.from_object(config_object)

def configure_extensions(app):
    # flask-sqlalchemy
    db.init_app(app)

def configure_blueprints(app):
    """Configure blueprints in views."""


    from api import api
    app.register_blueprint(api)

def configure_cli(app):

    @app.cli.command()
    def initdb():
        db.drop_all()
        db.create_all()    